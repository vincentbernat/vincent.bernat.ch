---
title: "Netops with Emacs and Org mode"
description: |
  Plan, execute and troubleshoot your (Juniper) network operations directly from
  Emacs with Org mode.
uuid: eb85958d-d56c-4a1f-a334-0f84d59aa9be
tags:
  - network
---

[Org mode][] is a package for Emacs to "keep notes, maintain todo
lists, planning projects and authoring documents." It can execute
embedded snippets of code and capture the output
(through [Babel][]). It's an invaluable tool
for [documenting your infrastructure and your operations][devops].

Here are three (relatively) short videos exhibiting *Org mode* use in
the context of **network operations**. In all of them, I am using my
own [junos-mode][] which features the following perks:

 - **syntax highlighting** for configuration files;
 - commit of **configuration snippets** to remote devices; and
 - execution of **remote commands**.

Since some Junos devices can be quite slow, commits and remote
executions are done asynchronously[^async] with the help of a Python
helper.

[^async]: This is a bit of a hack since *Babel* doesn't have native
    support for that. Also have a look at [ob-async][] which is a
    language-independent implementation of the same idea.
    
In the first video, I take some **notes** about configuring BGP
*add-path* feature ([RFC 7911][]). It demonstrates all the available
features of [junos-mode][].

![]([[!!videos/2017-netops-org-mode-1.m3u8]])

In the second video, I execute a **planned operation** to enable this
feature in production. The document is a *modus operandi* and contains
the configuration to apply and the commands to check if it works as
expected. At the end, the document becomes a detailed report of the
operation.

![]([[!!videos/2017-netops-org-mode-2.m3u8]])

In the third video, a **cookbook** has been prepared to execute some
changes. I set some variables and execute the cookbook to apply the
change and check the result.

![]([[!!videos/2017-netops-org-mode-3.m3u8]])

*[Junos]: Juniper Network Operating System
*[BGP]: Border Gateway Protocol

[Org mode]: https://orgmode.org/ "Org mode for Emacs - Your Life in Plain Text"
[devops]: http://www.howardism.org/Technical/Emacs/literate-devops.html "Literate DevOps"
[junos-mode]: https://github.com/vincentbernat/junos-mode "Emacs major mode for Junos configuration file"
[Babel]: https://orgmode.org/worg/org-contrib/babel/ "Babel: active code in Org-mode"
[ob-async]: https://github.com/astahlman/ob-async "ob-async: asynchronous src_block execution for org-babel"
[RFC 7911]: https://tools.ietf.org/html/rfc7911 "Advertisement of Multiple Paths in BGP"
